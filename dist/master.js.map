{"version":3,"sources":["master.js"],"names":["global","factory","exports","module","define","amd","CORSMaster","this","readyTimer","documentElement","document","supportIEEvent","supportW3CEvent","isBound","readyList","whenReady","body","clearTimeout","setTimeout","i","length","DOMContentLoaded","removeEventListener","onreadystatechange","readyState","detachEvent","doScrollCheck","doScroll","error","domReady","callback","push","addEventListener","window","attachEvent","toplevel","frameElement","bindReady","SOH","STX","ETX","prefix","name","namespace","encode","message","JSON","stringify","Messenger","String","prototype","sources","listeners","event","source","targets","hasOwnProperty","findSourceName","data","indexOf","lastIndexOf","origin","slice","parse","decode","add","onmessage","listener","send","postMessage","UID","toString","Object","DOMAIN_RE","Master","url","matched","exec","location","protocol","hostname","port","domain","replace","ready","<onready>","callbacks","<proxy>","iframe","createElement","setAttribute","style","display","src","self","messenger","appendChild","contentWindow","response","value","call","toLowerCase","id","uid","request","options","Promise","resolve","reject","valid"],"mappings":"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"}