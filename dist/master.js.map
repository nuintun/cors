{"version":3,"sources":["master.js"],"names":["global","factory","exports","module","define","amd","CORSMaster","this","whenReady","document","body","clearTimeout","readyTimer","setTimeout","i","readyList","length","DOMContentLoaded","removeEventListener","onreadystatechange","readyState","detachEvent","doScrollCheck","documentElement","doScroll","error","domain","url","matched","DOMAIN_RE","exec","location","protocol","hostname","port","replace","prefix","name","namespace","SOH","STX","encode","message","ETX","fallback","callback","ACK","window","navigator","Target","target","origin","String","Messenger","arguments","targets","listens","init","Master","ready","supportIEEvent","supportW3CEvent","isBound","domReady","push","addEventListener","attachEvent","toplevel","frameElement","bindReady","UID","supportMessage","prototype","send","console","log","postMessage","Error","data","event","indexOf","lastIndexOf","isLegal","slice","decode","add","listen","clear","hasOwnProperty","<onready>","callbacks","<proxy>","iframe","createElement","setAttribute","src","self","messenger","appendChild","contentWindow","JSON","parse","id","uid","request","options","Promise","resolve","reject","response","valid","stringify"],"mappings":"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"}