{"version":3,"sources":["master.js"],"names":["global","factory","exports","module","define","amd","CORSMaster","this","whenReady","document","body","clearTimeout","readyTimer","setTimeout","i","readyList","length","DOMContentLoaded","removeEventListener","onreadystatechange","readyState","detachEvent","doScrollCheck","documentElement","doScroll","error","prefix","name","namespace","SOH","STX","encode","message","JSON","stringify","ETX","Messenger","String","Master","url","matched","DOMAIN_RE","exec","location","protocol","hostname","port","domain","replace","ready","supportIEEvent","supportW3CEvent","isBound","domReady","callback","push","addEventListener","window","attachEvent","toplevel","frameElement","bindReady","UID","toString","Object","prototype","event","data","origin","indexOf","lastIndexOf","isLegal","slice","parse","decode","listeners","add","target","listen","listener","send","targets","hasOwnProperty","postMessage","<onready>","callbacks","<proxy>","iframe","createElement","setAttribute","style","display","src","self","messenger","appendChild","contentWindow","value","call","toLowerCase","typeOf","id","uid","request","options","Promise","resolve","reject","response","valid"],"mappings":"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"}