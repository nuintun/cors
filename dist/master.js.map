{"version":3,"sources":["master.js"],"names":["global","factory","exports","module","define","amd","CORSMaster","this","whenReady","document","body","clearTimeout","readyTimer","setTimeout","i","readyList","length","DOMContentLoaded","removeEventListener","onreadystatechange","readyState","detachEvent","doScrollCheck","documentElement","doScroll","error","domReady","callback","push","isBound","supportW3CEvent","addEventListener","window","supportIEEvent","attachEvent","toplevel","frameElement","bindReady","prefix","name","namespace","SOH","STX","encode","message","JSON","stringify","ETX","Messenger","String","Master","url","matched","DOMAIN_RE","exec","location","protocol","hostname","port","domain","replace","ready","prototype","event","source","targets","hasOwnProperty","findSourceName","sources","data","indexOf","lastIndexOf","isLegalMessage","origin","slice","parse","decode","listeners","add","onmessage","listener","send","postMessage","UID","toString","Object","<onready>","callbacks","<proxy>","iframe","createElement","setAttribute","style","display","src","self","messenger","appendChild","contentWindow","response","value","call","toLowerCase","typeOf","id","uid","request","options","Promise","resolve","reject","valid"],"mappings":"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"}