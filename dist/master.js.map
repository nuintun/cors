{"version":3,"sources":["master.js"],"names":["global","factory","exports","module","define","amd","CORSMaster","this","whenReady","document","body","clearTimeout","readyTimer","setTimeout","i","readyList","length","DOMContentLoaded","removeEventListener","onreadystatechange","readyState","detachEvent","doScrollCheck","documentElement","doScroll","error","prefix","name","namespace","SOH","STX","encode","message","JSON","stringify","ETX","Messenger","String","Master","url","matched","DOMAIN_RE","exec","location","protocol","hostname","port","domain","replace","ready","UID","toString","Object","prototype","supportIEEvent","supportW3CEvent","isBound","domReady","callback","push","addEventListener","window","attachEvent","toplevel","frameElement","bindReady","event","source","targets","hasOwnProperty","findSourceName","sources","data","indexOf","lastIndexOf","isLegalMessage","origin","slice","parse","decode","listeners","add","onmessage","listener","send","postMessage","<onready>","callbacks","<proxy>","iframe","createElement","setAttribute","style","display","src","self","messenger","appendChild","contentWindow","response","value","call","toLowerCase","typeOf","id","uid","request","options","Promise","resolve","reject","valid"],"mappings":"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"}