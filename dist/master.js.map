{"version":3,"sources":["master.js"],"names":["global","factory","exports","module","define","amd","self","CORSMaster","this","readyTimer","documentElement","document","supportIEEvent","supportW3CEvent","isBound","readyList","whenReady","body","clearTimeout","setTimeout","i","length","DOMContentLoaded","removeEventListener","onreadystatechange","readyState","detachEvent","doScrollCheck","doScroll","error","domReady","callback","push","addEventListener","window","attachEvent","toplevel","frameElement","bindReady","SOH","STX","ETX","prefix","name","namespace","encode","message","JSON","stringify","Messenger","String","prototype","sources","listeners","event","source","targets","hasOwnProperty","findSourceName","data","indexOf","lastIndexOf","isLegalMessage","origin","slice","parse","decode","add","onmessage","listener","send","postMessage","UID","toString","Object","DOMAIN_RE","Master","url","matched","exec","location","protocol","hostname","port","domain","replace","ready","<onready>","callbacks","<proxy>","iframe","createElement","setAttribute","style","display","src","messenger","appendChild","contentWindow","response","value","call","toLowerCase","id","uid","request","options","Promise","resolve","reject","valid"],"mappings":"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"}