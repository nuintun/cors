{"version":3,"sources":["worker.js"],"names":["global","factory","exports","module","define","amd","CORSWorker","this","toString","Object","prototype","typeOf","value","call","slice","toLowerCase","isArray","Array","DOMAIN_RE","buildParams","prefix","object","add","i","length","name","nonce","QUERY_RE","PU1","encodeURIComponent","methods","cleanXHR","xhr","onreadystatechange","onerror","ontimeout","onabort","fetch","url","options","cache","headers","data","hasOwnProperty","params","key","item","String","join","param","method","upcased","toUpperCase","indexOf","normalizeMethod","test","Date","Promise","resolve","reject","XMLHttpRequest","readyState","rejectError","message","TypeError","open","username","password","setRequestHeader","send","documentElement","document","supportIEEvent","supportW3CEvent","SOH","STX","ETX","namespace","encode","JSON","stringify","Messenger","sources","listeners","callback","event","source","targets","findSourceName","lastIndexOf","origin","parse","error","decode","window","addEventListener","attachEvent","onmessage","listener","push","postMessage","Worker","worker","parent","response","then","valid","uid","responseText","catch","stack","matched","exec","location","protocol","hostname","port","domain","replace","referrer"],"mappings":"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"}