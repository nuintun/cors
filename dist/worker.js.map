{"version":3,"sources":["worker.js"],"names":["global","factory","exports","module","define","amd","CORSWorker","this","toString","Object","prototype","typeOf","value","call","slice","toLowerCase","isArray","Array","DOMAIN_RE","buildParams","prefix","object","add","i","length","name","nonce","QUERY_RE","PU1","encodeURIComponent","methods","cleanXHR","xhr","onreadystatechange","onerror","ontimeout","onabort","fetch","url","options","method","upcased","cache","headers","data","hasOwnProperty","params","key","item","String","join","param","toUpperCase","indexOf","test","Date","Promise","resolve","reject","XMLHttpRequest","rejectError","message","TypeError","readyState","open","username","password","setRequestHeader","send","documentElement","document","supportIEEvent","supportW3CEvent","SOH","STX","ETX","namespace","encode","JSON","stringify","Messenger","Worker","sources","listeners","callback","event","source","targets","findSourceName","lastIndexOf","isLegalMessage","origin","parse","error","decode","window","addEventListener","attachEvent","onmessage","listener","push","postMessage","worker","parent","response","then","valid","uid","responseText","catch","stack","matched","exec","location","protocol","hostname","port","domain","replace","referrer"],"mappings":"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"}